{%- liquid 
assign se_stts  = section.settings
assign se_id    = section.id
assign root_url = routes.root_url -%}

<div class="t4s-container t4s-lookbook-wrapper">
{%- for block in section.blocks -%}{%- assign bk_stts = block.settings -%}
  {%- case block.type -%}

     {%- when 'pr' -%}{%- if bk_stts.product == blank -%}{%- continue -%}{%- endif -%}
     <span data-bid="t4s_{{se_id}}{{block.id}}" data-pin-popup data-position="{{bk_stts.pos_popup}}" data-is-pr data-href="{{ root_url }}products/{{bk_stts.product}}" data-sid="render-pr_lb" class="t4s-lookbook-pin is-type__pr" {{ block.shopify_attributes }}></span>
     
     {%- when 'txt' -%}
     <span data-bid="t4s_{{se_id}}{{block.id}}" data-pin-popup data-position="{{bk_stts.pos_popup}}" class="t4s-lookbook-pin is-type__text" {{ block.shopify_attributes }}></span>
     <template id="temt4s_{{se_id}}{{block.id}}">
      <div data-pin-wrapper id="" class="t4s-lb__wrapper t4s-lb-txt-wrapper">
         <div class="t4s-lb-arrow"></div>
         <div class="t4s-lb__header">
           <span class="t4s-lb__title">{{'sections.lookbook.title.text' | t}}</span>
           <button data-pin-close aria-label="{{ 'general.aria.close' | t }}"><svg role="presentation" class="t4s-iconsvg-close" viewBox="0 0 16 14"><path d="M15 0L1 14m14 0L1 0" stroke="currentColor" fill="none" fill-rule="evenodd"></path></svg></button>
         </div>
         <div class="t4s-lb__content">
            <div class="t4s-lb-title">{{bk_stts.heading}}</div>
            <div class="t4s-lb-content">{{bk_stts.text}}</div>
         </div>
      </div>
      </template>

     {%- else -%}
     <a href="{{bk_stts.url}}" target="{{bk_stts.open_link}}" class="t4s-lookbook-pin is-type__ink"></a>

  {%- endcase -%}
{%- endfor -%}
<style>
   .t4s-lookbook-pin {
       width: 40px;
       height: 40px;
       background-color: blue;
       display: block;
       cursor: pointer;    
       display: inline-block;
       margin: 0 20px;
   }
</style>
<link rel="stylesheet" href="{{ 'base_drop.css' | asset_url }}" media="all">
</div>

{%- schema -%}
  {
  "name": "Lookbook demo",
  "class": "t4s-section t4s-section-all t4s_tp_lb",
  "settings": [
  ],
    "blocks": [
      {
        "type": "pr",
        "name": "Product",
        "settings": [
          {
            "type": "header","content": "+ Pin options"
          },
          {
            "type":"range","id":"pos_t","min":0,"max":100,"step":1,"unit":"%","label":"Position Top","default":50
          },
          {
            "type":"range","id":"pos_l","min":0,"max":100,"step":1,"unit":"%","label":"Position Left","default":50
          },
          {
             "type": "select","id": "type","label": "Title type",
             "options": [
                { "value": "1", "label": "icon 1"},
                { "value": "2", "label": "icon 2"},
                { "value": "3", "label": "Short Text"}
             ]
          },
         {
          "type":"text","id":"shorttxt","label":"Short Text","default":"$59"
          },
          {
           "type": "select","id": "pos_size","label": "Pin size","default": "medium",
           "options": [
              { "value": "small", "label": "Small"},
              { "value": "medium", "label": "Medium"},
              { "value": "exmedium", "label": "Extra Medium"},
              { "value": "large", "label": "Large"}
           ]
          },
          {
           "type": "color","id": "bg_cl","label": "Background color","default": "#65affa"
          },
          {
            "type": "header","content": "+ Popup options"
          },
          {
           "type": "select","id": "pos_popup","label": "Position","default": "top",
           "options": [
              { "value": "top-start", "label": "Top start"},
              { "value": "top", "label": "Top"},
              { "value": "top-end", "label": "Top end"},
              { "value": "bottom-start", "label": "Bottom start"},
              { "value": "bottom", "label": "Bottom"},
              { "value": "bottom-end", "label": "Bottom end"},
              { "value": "left-start", "label": "Left start"},
              { "value": "left", "label": "Left"},
              { "value": "left-end", "label": "Left end"},
              { "value": "right-start", "label": "Right start"},
              { "value": "right", "label": "Right"},
              { "value": "right-end", "label": "Right end"}
           ]
          },
          {
             "type": "product","id": "product","label": "Choose product"
          }
        ]
      },
      {
        "type": "txt",
        "name": "Text",
        "settings": [
          {
            "type": "header","content": "+ Pin options"
          },
          {
            "type":"range","id":"pos_t","min":0,"max":100,"step":1,"unit":"%","label":"Position Top","default":50
          },
          {
            "type":"range","id":"pos_l","min":0,"max":100,"step":1,"unit":"%","label":"Position Left","default":50
          },
          {
             "type": "select","id": "type","label": "Title type",
             "options": [
                { "value": "1", "label": "icon 1"},
                { "value": "2", "label": "icon 2"},
                { "value": "3", "label": "Short Text"}
             ]
          },
         {
          "type":"text","id":"shorttxt","label":"Short Text","default":"$59"
          },
          {
           "type": "select","id": "pos_size","label": "Pin size","default": "medium",
           "options": [
              { "value": "small", "label": "Small"},
              { "value": "medium", "label": "Medium"},
              { "value": "exmedium", "label": "Extra Medium"},
              { "value": "large", "label": "Large"}
           ]
          },
          {
           "type": "color","id": "bg_cl","label": "Background color","default": "#56cfe1"
          },
          {
            "type": "header","content": "+ Popup options"
          },
          {
           "type": "select","id": "pos_popup","label": "Position","default": "top",
           "options": [
              { "value": "top-start", "label": "Top start"},
              { "value": "top", "label": "Top"},
              { "value": "top-end", "label": "Top end"},
              { "value": "bottom-start", "label": "Bottom start"},
              { "value": "bottom", "label": "Bottom"},
              { "value": "bottom-end", "label": "Bottom end"},
              { "value": "left-start", "label": "Left start"},
              { "value": "left", "label": "Left"},
              { "value": "left-end", "label": "Left end"},
              { "value": "right-start", "label": "Right start"},
              { "value": "right", "label": "Right"},
              { "value": "right-end", "label": "Right end"}
           ]
          },
         {
          "type":"text","id":"heading","label":"Heading","default":"01 - Water Resistance"
          },
         {
          "type":"richtext","id":"text","label":"Content","default":"<p>With groundbreaking water resistant capabilities, The Mission has the highest waterproof rating of any smartwatch on the market.</p>"
          }
         ]
      },
      {
        "type": "url",
        "name": "Link",
        "settings": [
          {
            "type": "header","content": "+ Pin options"
          },
          {
            "type":"range","id":"pos_t","min":0,"max":100,"step":1,"unit":"%","label":"Position Top","default":50
          },
          {
            "type":"range","id":"pos_l","min":0,"max":100,"step":1,"unit":"%","label":"Position Left","default":50
          },
          {
             "type": "select","id": "type","label": "Title type",
             "options": [
                { "value": "1", "label": "icon 1"},
                { "value": "2", "label": "icon 2"},
                { "value": "3", "label": "Short Text"}
             ]
          },
         {
          "type":"text","id":"shorttxt","label":"Short Text","default":"$59"
          },
          {
           "type": "select","id": "pos_size","label": "Pin size","default": "medium",
           "options": [
              { "value": "small", "label": "Small"},
              { "value": "medium", "label": "Medium"},
              { "value": "exmedium", "label": "Extra Medium"},
              { "value": "large", "label": "Large"}
           ]
          },
          {
           "type": "color","id": "bg_cl","label": "Background color","default": "#334fb4"
          },
          {
            "type": "header","content": "+ Popup options"
          },
         {
          "type":"url","id":"url","label":"Link"
          },
          {
            "type": "select",
            "id": "open_link",
            "options": [
              {
                "value": "_self",
                "label": "Current window"
              },
             {
                "value": "_blank",
                "label": "New window"
              }
            ],
            "label": "Open link in",
            "default": "_blank"
          }
         ]
      }
    ],
    "presets": [
      {
        "name": "Lookbook demo"
      }
    ]
}
{% endschema %}